# ê¸°íƒ€ë¦¬ìŠ¤íŠ¸

ë¬¸ì œ: 1495
ë‚ ì§œ: 2024ë…„ 3ì›” 28ì¼
ìƒíƒœ: ì™„ë£Œ
í‹°ì–´: ì‹¤ë²„ 1

### 1. ë¬¸ì œ ì„¤ëª…

[1495ë²ˆ: ê¸°íƒ€ë¦¬ìŠ¤íŠ¸](https://www.acmicpc.net/problem/1495)

### 2. êµ¬í˜„ ë°©ë²•

1. **BFS + PQ + visited**
2. **DP**

   **2.1 Top-Down**

   **2.2 Bottom-Up**


â‡’ Botton-Upì´ ì œì¼ ë¹ ë¦„!!

<aside>
ğŸ’¡ **DPë‚˜ visitedì—ì„œ ë©”ëª¨ì´ì œì´ì…˜í• ë•Œ, 2ì°¨ì› ë°°ì—´ ì‚¬ìš©í•˜ëŠ” ê²½ìš°**
- ê°’ì— ë”°ë¼ ë‹¬ë¼ì§€ëŠ” ìš”ì†Œê°€ 2ê°œ ìˆì„ë•Œ!!
â‡’ ex) í˜„ì¬ ë³¼ë¥¨ , í˜„ì¬ ì‹œê°„(í•´ë‹¹ idx)

</aside>

### 3. íšŒê³ 

- top-downë°©ì‹ì´ ë¬´ì¡°ê±´ në¶€í„° ì‹œì‘í•˜ëŠ”ê²Œ ì•„ë‹˜!
    - ì´ ë¬¸ì œì˜ ê²½ìš°, në¶€í„° êµ¬í•˜ì§€ ëª»í•˜ë¯€ë¡œ 0ë¶€í„° ì‹œì‘
- ë°©ë¬¸ì²˜ë¦¬ë‚˜ ë©”ëª¨ì´ì œì´ì…˜ í• ë•Œ, 2ì°¨ì›ë°°ì—´ ì‚¬ìš©í•´ì•¼í•˜ëŠ”ì§€ ê¼­ ìƒê°!!!

### 4. ì½”ë“œ

1. **BFS + PQ + visited**

![Untitled](%E1%84%80%E1%85%B5%E1%84%90%E1%85%A1%E1%84%85%E1%85%B5%E1%84%89%E1%85%B3%E1%84%90%E1%85%B3%20ebe9f25cdbe54c7ba73747a772dc5eea/Untitled.png)

```java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.PriorityQueue;
import java.util.StringTokenizer;

public class Main {
	static int N,S,M;
    static int[] V;
    static int[] dp;
    static class Node implements Comparable<Node> {
        int x,idx;

        public Node(int x, int idx) {
            this.x = x;
            this.idx = idx;
        }

        @Override
        public int compareTo(Node o) {
            if(this.idx == o.idx){
            	return o.x - this.x;
            }
            return this.idx - o.idx;
        }

    }
    
	public static void main(String[] args) throws IOException{
		BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine());

        N = Integer.parseInt(st.nextToken());
        S = Integer.parseInt(st.nextToken());
        M = Integer.parseInt(st.nextToken());

        V = new int[N];
        dp = new int[N+1];

        st = new StringTokenizer(br.readLine());
        for (int i = 0; i < N; i++) {
            V[i] = Integer.parseInt(st.nextToken());
        }
        BFS();
	}
	
	// ëŸ°íƒ€ì„ ì—ëŸ¬ ë‚¬ë˜ ì´ìœ  : return -1ë¡œ í• ê²½ìš° ì •ìƒì ì´ì§€ ëª»í•œ ê²°ê³¼ê°’ìœ¼ë¡œ ì¸ì‹í•´ ëŸ°íƒ€ì„ ì—ëŸ¬ë‚  ìˆ˜ ìˆìŒ
	static void BFS(){
        PriorityQueue<Node> pq = new PriorityQueue<>();
        
        // visted ë°©ë¬¸ì²˜ë¦¬ í•˜ëŠ” ì´ìœ  : ì¤‘ë³µ ì œê±°í•˜ê¸° ìœ„í•´
        boolean[][] visited = new boolean[1001][51];
        pq.add(new Node(S,0));
        visited[S][0] = true;

        while(!pq.isEmpty()){
            Node n = pq.poll();

            if(n.idx == N){
                System.out.println(n.x);
                return;
            }

            if(n.x + V[n.idx] >= 0 && n.x + V[n.idx] <= M && !visited[n.x + V[n.idx]][n.idx]) {
                pq.add(new Node(n.x + V[n.idx],n.idx+1));
                visited[n.x + V[n.idx]][n.idx] = true;
            }

            if(n.x - V[n.idx] >= 0 && n.x - V[n.idx] <= M && !visited[n.x - V[n.idx]][n.idx]){
                pq.add(new Node(n.x - V[n.idx],n.idx+1));
                visited[n.x - V[n.idx]][n.idx] = true;
            }
        }
       System.out.println(-1);
    }
}
```

1. DP

   **2.1 Top-Down**

   ![Untitled](%E1%84%80%E1%85%B5%E1%84%90%E1%85%A1%E1%84%85%E1%85%B5%E1%84%89%E1%85%B3%E1%84%90%E1%85%B3%20ebe9f25cdbe54c7ba73747a772dc5eea/Untitled%201.png)

    ```java
    import java.io.BufferedReader;
    import java.io.IOException;
    import java.io.InputStreamReader;
    import java.util.PriorityQueue;
    import java.util.StringTokenizer;
    
    public class Main {
    	static int N,S,M;
        static int[] V;
        static boolean[][] dp;
        
    	public static void main(String[] args) throws IOException{
    		BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
            StringTokenizer st = new StringTokenizer(br.readLine());
    
            N = Integer.parseInt(st.nextToken());
            S = Integer.parseInt(st.nextToken());
            M = Integer.parseInt(st.nextToken());
    
            V = new int[N+1];
            dp = new boolean[51][1001]; //ë©”ëª¨ì´ì œì´ì…˜
    
            st = new StringTokenizer(br.readLine());
            for (int i = 0; i < N; i++) {
                V[i] = Integer.parseInt(st.nextToken());
            }
    
            DP(0,S); // 0ë¶€í„° ì‹œì‘(ë³¼ë¥¨ì€ Së¡œ ì„¤ì •)
            int ans =-1;
            
            // ë§ˆì§€ë§‰ dp[N][i]==trueë©´ ê°’ì´ ìˆëŠ” ê²ƒì´ë¯€ë¡œ ansë¥¼ ê°±ì‹ !!
            for (int i = 0; i <= M; i++) {
    						if(dp[N][i]) ans = i;
    				}
            System.out.println(ans);
    	}
    	
    	// Top-Down í•¨ìˆ˜
    	static void DP(int idx,int volum) {
    		if(idx > N) return; //Nê¹Œì§€ ë„ë‹¬í–ˆì„ë•Œ ì¢…ë£Œ
    		if(dp[idx][volum]) return; //ì´ë¯¸ ë°©ë¬¸í–ˆìœ¼ë©´ return
    		
    		dp[idx][volum] = true; // ë°©ë¬¸ì²˜ë¦¬
    		// ë³¼ë¥¨ì„ ëº€ ê°’ì´ 0ë³´ë‹¤ í¬ê±°ë‚˜ ê°™ìœ¼ë©´ -> DP(idx+1,volum-V[idx])ë¡œ ì¬ê·€
    		if(volum-V[idx] >=0) {
    			DP(idx+1,volum-V[idx]);
    		}
    		// ë³¼ë¥¨ì„ ëº€ ê°’ì´ Më³´ë‹¤ ì‘ê±°ë‚˜ ê°™ìœ¼ë©´ -> DP(idx+1,volum+V[idx])ë¡œ ì¬ê·€
    		if(volum+V[idx] <=M) {
    			DP(idx+1,volum+V[idx]);
    		}
    		return;
    	}
    }
    ```

   **2.2 Bottom-Up**

   ![Untitled](%E1%84%80%E1%85%B5%E1%84%90%E1%85%A1%E1%84%85%E1%85%B5%E1%84%89%E1%85%B3%E1%84%90%E1%85%B3%20ebe9f25cdbe54c7ba73747a772dc5eea/Untitled%202.png)

    ```java
    import java.io.BufferedReader;
    import java.io.IOException;
    import java.io.InputStreamReader;
    import java.util.PriorityQueue;
    import java.util.StringTokenizer;
    
    public class Main {
    	static int N,S,M;
      static int[] V;
      static boolean[][] dp;
        
    	public static void main(String[] args) throws IOException{
    		BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
            StringTokenizer st = new StringTokenizer(br.readLine());
    
            N = Integer.parseInt(st.nextToken());
            S = Integer.parseInt(st.nextToken());
            M = Integer.parseInt(st.nextToken());
    
            V = new int[N+1];
            dp = new boolean[51][1001];
    
            st = new StringTokenizer(br.readLine());
            for (int i = 0; i < N; i++) {
                V[i] = Integer.parseInt(st.nextToken());
            }
    
            dp[0][S] = true;
            
            // Bottom-Up ë°©ì‹
            for (int i = 1; i <= N; i++) {
    					for (int j = 0; j <= M; j++) {
    						if(!dp[i-1][j]) continue; //ì´ì „ì— ê°’ì´ ì—†ë‹¤ë©´ ê·¸ëƒ¥ ë„˜ê¸°ê¸°
    						// ë²”ìœ„ ì¶©ì¡±í•˜ë©´, dpì— trueë¡œ ì €ì¥
    						if(j-V[i-1] >=0) dp[i][j-V[i-1]] = true;
    						if(j+V[i-1] <=M) dp[i][j+V[i-1]] = true;
    					}
    			}
            int ans =-1;
            for (int i = 0; i <= M; i++) {
    						if(dp[N][i]) ans = i;
    				}
            System.out.println(ans);
    		}
    	}
    
    ```